<% let interviewDate = new Date(interview.date); %> <% let months = ['January',
'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',
'October', 'November', 'December']; %> <% let year =
interviewDate.getFullYear(); %> <% let month = months[interviewDate.getMonth()]
%> <% let date = interviewDate.getDate(); %>

<link
  rel="stylesheet"
  type="text/css"
  href="<%= assetPath('css/allocate.css') %>"
/>

<div id="allocate-container">
  <h1>Allocate Students</h1>

  <form action="/interviews/allocate" method="post">
    <div id="allocate-table">
      <table>
        <caption>
          Allocate Students for the interview: <%= interview.name %> on <%=
          month %> <%= date %>, <%= year %>
        </caption>
        <thead>
          <tr>
            <th>Select</th>
            <th>ID</th>
            <th>Name</th>
            <th>College</th>
            <th>Batch</th>
            <th>Status</th>
            <th>DSA score</th>
            <th>Web Dev score</th>
            <th>React score</th>
          </tr>
        </thead>
        <tbody>
          <% let i = 0; %> <% for(let j = 0; j < uncheckedStudents.length; j++,
          i++) { %> <%- include('_allocate', {student: uncheckedStudents[j], i:
          i, checked: false}) -%> <% } %> <% for(let j = 0; j <
          checkedStudents.length; j++, i++) { %> <%- include('_allocate',
          {student: checkedStudents[j], i: i, checked: true}) -%> <% } %>
        </tbody>
      </table>
    </div>

    <input type="hidden" name="length" value="<%= length %>" />
    <input type="hidden" name="interview" value="<%= interview._id %>" />
    <input type="submit" value="Allocate" />
    <a href="/interviews/list"><button type="button">Back</button></a>
  </form>
</div>
